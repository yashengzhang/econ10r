college_cal <- filter(college, str_detect(College, "California"))
arrange(college_cal, Grad.Rate)[, c("College", "Grad.Rate")]
air <- read.csv("air.csv")
air <- separate(air, date, into = c("year", "month", "day"), sep = c(4, 6))
head(select(air, year, month, day))
air$date_format <- as.Date(as.character(air$date), format = "%Y%m%d")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
college <- read.csv("college.csv")
colnames(college)[1] <- "College"
unique(college$Private)
college_private <- filter(college, Private == "Yes")
college_nonprivate <- filter(college, Private == "No")
head(college_private)
head(college_nonprivate)
head(arrange(college, desc(Books))[, c("College", "Books")])
head(arrange(college_private, desc(PhD))[, c("College", "PhD")])
head(arrange(college_nonprivate, desc(PhD))[, c("College", "PhD")])
college_accept <- mutate(college, AcceptRate = Accept / Apps)
head(arrange(college_accept, desc(AcceptRate))[, c("College", "Apps", "Accept", "AcceptRate")])
head(arrange(college_accept, AcceptRate)[, c("College", "Apps", "Accept", "AcceptRate")])
college_cal <- filter(college, str_detect(College, "California"))
arrange(college_cal, Grad.Rate)[, c("College", "Grad.Rate")]
air <- read.csv("air.csv")
air$date_format <- as.Date(as.character(air$date), format = "%Y%m%d")
air <- mutate(air,
year = year(date_format),
month = month(date_format),
day = day(date_format))
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
library(lubridate)
college <- read.csv("college.csv")
colnames(college)[1] <- "College"
unique(college$Private)
college_private <- filter(college, Private == "Yes")
college_nonprivate <- filter(college, Private == "No")
head(college_private)
head(college_nonprivate)
head(arrange(college, desc(Books))[, c("College", "Books")])
head(arrange(college_private, desc(PhD))[, c("College", "PhD")])
head(arrange(college_nonprivate, desc(PhD))[, c("College", "PhD")])
college_accept <- mutate(college, AcceptRate = Accept / Apps)
head(arrange(college_accept, desc(AcceptRate))[, c("College", "Apps", "Accept", "AcceptRate")])
head(arrange(college_accept, AcceptRate)[, c("College", "Apps", "Accept", "AcceptRate")])
college_cal <- filter(college, str_detect(College, "California"))
arrange(college_cal, Grad.Rate)[, c("College", "Grad.Rate")]
air <- read.csv("air.csv")
air$date_format <- as.Date(as.character(air$date), format = "%Y%m%d")
air <- mutate(air,
year = year(date_format),
month = month(date_format),
day = day(date_format))
head(select(air, year, month, day))
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
library(lubridate)
college <- read.csv("college.csv")
colnames(college)[1] <- "College"
unique(college$Private)
college_private <- filter(college, Private == "Yes")
college_nonprivate <- filter(college, Private == "No")
head(college_private)
head(college_nonprivate)
head(arrange(college, desc(Books))[, c("College", "Books")])
head(arrange(college_private, desc(PhD))[, c("College", "PhD")])
head(arrange(college_nonprivate, desc(PhD))[, c("College", "PhD")])
college_accept <- mutate(college, AcceptRate = Accept / Apps)
head(arrange(college_accept, desc(AcceptRate))[, c("College", "Apps", "Accept", "AcceptRate")])
head(arrange(college_accept, AcceptRate)[, c("College", "Apps", "Accept", "AcceptRate")])
college_cal <- filter(college, str_detect(College, "California"))
arrange(college_cal, Grad.Rate)[, c("College", "Grad.Rate")]
air <- read.csv("air.csv")
air <- separate(air, date, into = c("year", "month", "day"), sep = c(4, 6))
head(select(air, year, month, day))
air$date_format <- as.Date(as.character(air$date), format = "%Y%m%d")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
library(lubridate)
college <- read.csv("college.csv")
colnames(college)[1] <- "College"
unique(college$Private)
college_private <- filter(college, Private == "Yes")
college_nonprivate <- filter(college, Private == "No")
head(college_private)
head(college_nonprivate)
head(arrange(college, desc(Books))[, c("College", "Books")])
head(arrange(college_private, desc(PhD))[, c("College", "PhD")])
head(arrange(college_nonprivate, desc(PhD))[, c("College", "PhD")])
college_accept <- mutate(college, AcceptRate = Accept / Apps)
head(arrange(college_accept, desc(AcceptRate))[, c("College", "Apps", "Accept", "AcceptRate")])
head(arrange(college_accept, AcceptRate)[, c("College", "Apps", "Accept", "AcceptRate")])
college_cal <- filter(college, str_detect(College, "California"))
arrange(college_cal, Grad.Rate)[, c("College", "Grad.Rate")]
air <- read.csv("air.csv")
air <- separate(air, date, into = c("year", "month", "day"), sep = c(4, 6))
head(select(air, year, month, day))
View(air)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
library(lubridate)
college <- read.csv("college.csv")
colnames(college)[1] <- "College"
unique(college$Private)
college_private <- filter(college, Private == "Yes")
college_nonprivate <- filter(college, Private == "No")
head(college_private)
head(college_nonprivate)
head(arrange(college, desc(Books))[, c("College", "Books")])
head(arrange(college_private, desc(PhD))[, c("College", "PhD")])
head(arrange(college_nonprivate, desc(PhD))[, c("College", "PhD")])
college_accept <- mutate(college, AcceptRate = Accept / Apps)
head(arrange(college_accept, desc(AcceptRate))[, c("College", "Apps", "Accept", "AcceptRate")])
head(arrange(college_accept, AcceptRate)[, c("College", "Apps", "Accept", "AcceptRate")])
college_cal <- filter(college, str_detect(College, "California"))
arrange(college_cal, Grad.Rate)[, c("College", "Grad.Rate")]
air <- read.csv("air.csv")
air <- separate(air, date, into = c("year", "month", "day"), sep = c(4, 6))
head(select(air, year, month, day))
air <- read.csv("air.csv")
air$date_format <- as.Date(as.character(air$date), format = "%Y%m%d")
air <- mutate(air,
year = year(date_format),
month = month(date_format),
day = day(date_format))
head(select(air, year, month, day))
View(air)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(tidyverse)
library(lubridate)
college <- read.csv("college.csv")
colnames(college)[1] <- "College"
unique(college$Private)
college_private <- filter(college, Private == "Yes")
college_nonprivate <- filter(college, Private == "No")
head(college_private)
head(college_nonprivate)
head(arrange(college, desc(Books))[, c("College", "Books")])
head(arrange(college_private, desc(PhD))[, c("College", "PhD")])
head(arrange(college_nonprivate, desc(PhD))[, c("College", "PhD")])
college_accept <- mutate(college, AcceptRate = Accept / Apps)
head(arrange(college_accept, desc(AcceptRate))[, c("College", "Apps", "Accept", "AcceptRate")])
head(arrange(college_accept, AcceptRate)[, c("College", "Apps", "Accept", "AcceptRate")])
college_cal <- filter(college, str_detect(College, "California"))
arrange(college_cal, Grad.Rate)[, c("College", "Grad.Rate")]
air <- read.csv("air.csv")
air <- separate(air, date, into = c("year", "month", "day"), sep = c(4, 6), remove = FALSE)
head(select(air, year, month, day))
View(air)
head(arrange(summarise(group_by(air, station), count = n(), average_AQI = mean(AQI, na.rm = TRUE)), desc(average_AQI)))
air_max <- filter(group_by(air, station), AQI == max(AQI, na.rm = TRUE))
air_min <- filter(group_by(air, station), AQI == min(AQI, na.rm = TRUE))
air_extrema <- arrange(rbind(air_max, air_min), station, AQI, year, month, day)[, c("station", "year", "month", "day", "AQI")]
head(air_extrema)
head(air_extrema, 20)
air_extrema <- filter(air,
AQI == max(AQI, na.rm = TRUE) | AQI == min(AQI, na.rm = TRUE))[, c("station", "year", "month", "day", "AQI")]
head(arrange(air_extrema, station, AQI))
air_extrema <- filter(air,
AQI == max(AQI, na.rm = TRUE) | AQI == min(AQI, na.rm = TRUE))[, c("station", "year", "month", "day", "AQI")]
head(arrange(air_extrema, station, AQI), 25)
head(arrange(air_extrema, station), 25)
View(air_extrema)
air_extrema <- filter(air,
AQI == max(AQI) | AQI == min(AQI))[, c("station", "year", "month", "day", "AQI")]
head(arrange(air_extrema, station), 25)
air_extrema <- filter(group_by(air, station),
AQI == max(AQI, na.rm = TRUE) | AQI == min(AQI, na.rm = TRUE))[, c("station", "year", "month", "day", "AQI")]
head(arrange(air_extrema, station), 25)
air_extrema <- filter(group_by(air, station),
AQI == min(AQI, na.rm = TRUE) | AQI == max(AQI, na.rm = TRUE))[, c("station", "year", "month", "day", "AQI")]
head(arrange(air_extrema, station), 25)
air_extrema <- filter(group_by(air, station),
AQI == min(AQI, na.rm = TRUE) | AQI == max(AQI, na.rm = TRUE))[, c("station", "year", "month", "day", "AQI")]
head(arrange(air_extrema, station), 25)
air_extrema <- filter(group_by(air, station),
AQI == min(AQI, na.rm = TRUE) | AQI == max(AQI, na.rm = TRUE))[, c("station", "year", "month", "day", "AQI")]
head(arrange(air_extrema, station, AQI), 25)
air_max <- filter(group_by(air, station), AQI == max(AQI, na.rm = TRUE))
air_min <- filter(group_by(air, station), AQI == min(AQI, na.rm = TRUE))
air_extrema <- arrange(rbind(air_max, air_min), station, AQI, year, month, day)[, c("station", "year", "month", "day", "AQI")]
head(air_extrema, 25)
air_six <- group_by(air, year, month, day)
air_six_CO <- arrange(filter(air_six, CO_24h == max(CO_24h, na.rm = TRUE)), year, month, day)
air_six_NO2 <- arrange(filter(air_six, NO2_24h == max(NO2_24h, na.rm = TRUE)), year, month, day)
air_six_O3 <- arrange(filter(air_six, O3_24h == max(O3_24h, na.rm = TRUE)), year, month, day)
air_six_PM10 <- arrange(filter(air_six, PM10_24h == max(PM10_24h, na.rm = TRUE)), year, month, day)
air_six_PM2.5 <- arrange(filter(air_six, PM2.5_24h == max(PM2.5_24h, na.rm = TRUE)), year, month, day)
air_six_SO2 <- arrange(filter(air_six, SO2_24h == max(SO2_24h, na.rm = TRUE)), year, month, day)
air_six_CO <- select(air_six_CO[!duplicated(air_six_CO$date), ], station, date, year, month, day, CO_24h)
air_six_CO <- mutate(air_six_CO, pollu = "CO")
air_six_NO2 <- select(air_six_NO2[!duplicated(air_six_NO2$date), ], station, date, year, month, day, NO2_24h)
air_six_NO2 <- mutate(air_six_NO2, pollu = "NO2")
air_six_O3 <- select(air_six_O3[!duplicated(air_six_O3$date), ], station, date, year, month, day, O3_24h)
air_six_O3 <- mutate(air_six_O3, pollu = "O3")
air_six_PM10 <- select(air_six_PM10[!duplicated(air_six_PM10$date), ], station, date, year, month, day, PM10_24h)
air_six_PM10 <- mutate(air_six_PM10, pollu = "PM10")
air_six_PM2.5 <- select(air_six_PM2.5[!duplicated(air_six_PM2.5$date), ], station, date, year, month, day, PM2.5_24h)
air_six_PM2.5 <- mutate(air_six_PM2.5, pollu = "PM2.5")
air_six_SO2 <- select(air_six_SO2[!duplicated(air_six_SO2$date), ], station, date, year, month, day, SO2_24h)
air_six_SO2 <- mutate(air_six_SO2, pollu = "SO2")
air_six <- select(arrange(rbind(air_six_CO, air_six_NO2, air_six_O3, air_six_PM10, air_six_PM2.5, air_six_SO2), date), year, month, day, station, pollu)
head(pivot_wider(air_six, names_from = "pollu", values_from = "station"))
View(air_six)
CO <- filter(air, CO_24h == max(CO_24h, na,rm = TRUE))[, c(1, 2)]
group_by(air, date)
CO <- filter(air, CO_24h == max(CO_24h, na,rm = TRUE))[, c(1, 2)]
group_by(air, date)
CO <- filter(air, CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)]
group_by(air, date)
CO <- filter(air, CO_24h == max(CO_24h, na.rm = TRUE)[, c(1, 2)])
CO <- CO[, c(1, 2)]
group_by(air, date)
CO <- filter(air, CO_24h == max(CO_24h, na.rm = TRUE))
CO <- CO[, c(1, 2)]
group_by(air, date)
CO <- filter(air, CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)]
View(CO)
group_by(air, date)
CO <- filter(air, CO_24h == max(CO_24h, na.rm = TRUE))
View(CO)
CO <- filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)]
View(CO)
CO <- filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)]
colnames(CO$station) <- c("CO")
CO <- filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)]
colnames(CO$station) <- "CO"
CO <- filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)]
colnames(CO$station)[1] <- "CO"
CO <- filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)]
colnames(CO)[1] <- "CO"
View(CO)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(CO)[1] <- "CO"
View(CO)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(CO)[1] <- "CO"
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(NO2)[1] <- "NO2"
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(O3)[1] <- "O3"
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM10)[1] <- "PM10"
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM2.5)[1] <- "PM2.5"
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(SO2)[1] <- "SO2"
air_date <- summarise(group_by(air, date), count = n())[, 1]
View(air_date)
air_date <- summarise(group_by(air, date), count = n())
View(air_date)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(CO)[1] <- "CO"
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(NO2)[1] <- "NO2"
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(O3)[1] <- "O3"
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM10)[1] <- "PM10"
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM2.5)[1] <- "PM2.5"
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(SO2)[1] <- "SO2"
air_date <- summarise(group_by(air, date), count = n())[, 1]
air_index <- left_join(air_date, CO, by = "date") %>%
left_join(., NO2, by = "date") %>%
left_join(., O3, by = "date") %>%
left_join(., PM10, by = "date") %>%
left_join(., PM2.5, by = "date") %>%
left_join(., SO2, by = "date")
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(CO)[1] <- "CO"
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(NO2)[1] <- "NO2"
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(O3)[1] <- "O3"
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM10)[1] <- "PM10"
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM2.5)[1] <- "PM2.5"
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(SO2)[1] <- "SO2"
air_date <- summarise(group_by(air, date), count = n())[, 1]
air_index <- left_join(air_date, CO, by = "date") %>%
left_join(., NO2, by = "date") %>%
left_join(., O3, by = "date") %>%
left_join(., PM10, by = "date") %>%
left_join(., PM2.5, by = "date") %>%
left_join(., SO2, by = "date")
head(air_index)
View(air_index)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(CO)[1] <- "CO"
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(NO2)[1] <- "NO2"
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(O3)[1] <- "O3"
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM10)[1] <- "PM10"
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM2.5)[1] <- "PM2.5"
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(SO2)[1] <- "SO2"
air_date <- summarise(group_by(air, date), count = n())[, 1]
air_index <- right_join(air_date, CO, by = "date") %>%
right_join(., NO2, by = "date") %>%
right_join(., O3, by = "date") %>%
right_join(., PM10, by = "date") %>%
right_join(., PM2.5, by = "date") %>%
right_join(., SO2, by = "date")
head(air_index)
View(air_index)
air_index <- right_join(air_date, CO, by = "date")
air_index <- left_join(air_date, CO, by = "date")
air_index <- left_join(air_date, CO, by = "date")
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(CO)[1] <- "CO"
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(NO2)[1] <- "NO2"
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(O3)[1] <- "O3"
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM10)[1] <- "PM10"
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM2.5)[1] <- "PM2.5"
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(SO2)[1] <- "SO2"
air_date <- summarise(group_by(air, date), count = n())[, 1]
air_index <- left_join(air_date, CO, by = "date") %>%
right_join(., NO2, by = "date") %>%
right_join(., O3, by = "date") %>%
right_join(., PM10, by = "date") %>%
right_join(., PM2.5, by = "date") %>%
right_join(., SO2, by = "date")
air_index <- air_index[!duplicated(air_index$date), ]
head(air_index)
View(air_index)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(CO)[1] <- "CO"
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(NO2)[1] <- "NO2"
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(O3)[1] <- "O3"
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM10)[1] <- "PM10"
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM2.5)[1] <- "PM2.5"
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(SO2)[1] <- "SO2"
air_date <- summarise(group_by(air, date), count = n())[, 1]
air_index <- left_join(air_date, CO, by = "date") %>%
left_join(., NO2, by = "date") %>%
left_join(., O3, by = "date") %>%
left_join(., PM10, by = "date") %>%
left_join(., PM2.5, by = "date") %>%
left_join(., SO2, by = "date")
air_index <- air_index[!duplicated(air_index$date), ]
head(air_index)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(CO)[1] <- "CO"
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(NO2)[1] <- "NO2"
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(O3)[1] <- "O3"
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM10)[1] <- "PM10"
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(PM2.5)[1] <- "PM2.5"
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
colnames(SO2)[1] <- "SO2"
air_date <- summarise(group_by(air, date), count = n())[, 1]
air_index <- left_join(air_date, CO, by = "date") %>%
left_join(., NO2, by = "date") %>%
left_join(., O3, by = "date") %>%
left_join(., PM10, by = "date") %>%
left_join(., PM2.5, by = "date") %>%
left_join(., SO2, by = "date")
duplicated(air_index$date)
View(CO)
CO <- mutate(CO, pollu = "CO")
NO2 <- mutate(NO2, pollu = "NO2")
O3 <- mutate(O3, pollu = "O3")
PM10 <- mutate(PM10, pollu = "PM10")
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")
SO2 <- mutate(SO2, pollu = "SO2")
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date), date, station, pollu)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
NO2 <- mutate(NO2, pollu = "NO2")
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
O3 <- mutate(O3, pollu = "O3")
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
PM10 <- mutate(PM10, pollu = "PM10")
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
SO2 <- mutate(SO2, pollu = "SO2")
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date), date, station, pollu)
head(pivot_wider(air_index2, names_from = "pollu", values_from = "station"), 10)
View(PM2.5)
View(air_index2)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
NO2 <- mutate(NO2, pollu = "NO2")
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
O3 <- mutate(O3, pollu = "O3")
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
PM10 <- mutate(PM10, pollu = "PM10")
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
SO2 <- mutate(SO2, pollu = "SO2")
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date), date, station, pollu)[!duplicated(air_index$date), ]
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
NO2 <- mutate(NO2, pollu = "NO2")
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
O3 <- mutate(O3, pollu = "O3")
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
PM10 <- mutate(PM10, pollu = "PM10")
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
SO2 <- mutate(SO2, pollu = "SO2")
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date)[!duplicated(air_index$date), ], date, station, pollu)
View(NO2)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
NO2 <- mutate(NO2, pollu = "NO2")
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
O3 <- mutate(O3, pollu = "O3")
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
PM10 <- mutate(PM10, pollu = "PM10")
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
SO2 <- mutate(SO2, pollu = "SO2")
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date)[!duplicated(air_index2$date), ], date, station, pollu)
head(pivot_wider(air_index2, names_from = "pollu", values_from = "station"), 10)
View(air_index2)
View(air_index2)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
NO2 <- mutate(NO2, pollu = "NO2")
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
O3 <- mutate(O3, pollu = "O3")
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
PM10 <- mutate(PM10, pollu = "PM10")
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
SO2 <- mutate(SO2, pollu = "SO2")
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date), date, station, pollu)[!duplicated(air_index2$date), ]
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
NO2 <- mutate(NO2, pollu = "NO2")
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
O3 <- mutate(O3, pollu = "O3")
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
PM10 <- mutate(PM10, pollu = "PM10")
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
SO2 <- mutate(SO2, pollu = "SO2")
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date), date, station, pollu)
head(pivot_wider(air_index2, names_from = "pollu", values_from = "station"), 10)
View(air_index2)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
NO2 <- mutate(NO2, pollu = "NO2")
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
O3 <- mutate(O3, pollu = "O3")
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
PM10 <- mutate(PM10, pollu = "PM10")
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
SO2 <- mutate(SO2, pollu = "SO2")
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date), date, station, pollu)
air_index2 <- air_index2[!duplicated(air_index2$date), ]
head(pivot_wider(air_index2, names_from = "pollu", values_from = "station"), 10)
View(air_index2)
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")[!duplicated(air_index2$date), ]
CO <- arrange(filter(group_by(air, date), CO_24h == max(CO_24h, na.rm = TRUE))[, c(1, 2)], date)
CO <- mutate(CO, pollu = "CO")[!duplicated(CO$date), ]
NO2 <- arrange(filter(group_by(air, date), NO2_24h == max(NO2_24h, na.rm = TRUE))[, c(1, 2)], date)
NO2 <- mutate(NO2, pollu = "NO2")[!duplicated(NO2$date), ]
O3 <- arrange(filter(group_by(air, date), O3_24h == max(O3_24h, na.rm = TRUE))[, c(1, 2)], date)
O3 <- mutate(O3, pollu = "O3")[!duplicated(O3$date), ]
PM10 <- arrange(filter(group_by(air, date), PM10_24h == max(PM10_24h, na.rm = TRUE))[, c(1, 2)], date)
PM10 <- mutate(PM10, pollu = "PM10")[!duplicated(PM10$date), ]
PM2.5 <- arrange(filter(group_by(air, date), PM2.5_24h == max(PM2.5_24h, na.rm = TRUE))[, c(1, 2)], date)
PM2.5 <- mutate(PM2.5, pollu = "PM2.5")[!duplicated(PM2.5$date), ]
SO2 <- arrange(filter(group_by(air, date), SO2_24h == max(SO2_24h, na.rm = TRUE))[, c(1, 2)], date)
SO2 <- mutate(SO2, pollu = "SO2")[!duplicated(SO2$date), ]
air_index2 <- select(arrange(rbind(CO, NO2, O3, PM10, PM2.5, SO2), date), date, station, pollu)
head(pivot_wider(air_index2, names_from = "pollu", values_from = "station"), 10)
View(air_index2)
